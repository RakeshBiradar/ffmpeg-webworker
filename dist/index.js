!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).ffmpegWebworker={})}(this,function(e){"use strict";var t="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=i(n);return e=r?(e=i(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!=typeof e&&"function"!=typeof e?a(t):e}}function c(){importScripts("https://cdn.rawgit.com/bgrins/videoconverter.js/master/build/ffmpeg-all-codecs.js");var n=Date.now;function r(e){postMessage({type:"stdout",data:e})}onmessage=function(e){var t=e.data;"command"===t.type&&(e={print:r,printErr:r,files:t.files||[],arguments:t.arguments||[],TOTAL_MEMORY:t.totalMemory||33554432},postMessage({type:"start",data:e.arguments.join(" ")}),postMessage({type:"stdout",data:"Received command: "+e.arguments.join(" ")+(e.TOTAL_MEMORY?".  Processing with "+e.TOTAL_MEMORY+" bits.":"")}),t=n(),e=ffmpeg_run(e),t=n()-t,postMessage({type:"stdout",data:"Finished processing (took "+t+"ms)"}),postMessage({type:"done",data:e,time:t}))},postMessage({type:"ready"})}var n,r,l=(function(e){(e=e).default=function t(e){if(function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),"function"!=typeof e)throw new Error("File content must export a function");e=e.toString(),e=new Blob(["("+e+")()"],{type:"application/javascript"});return new Worker(URL.createObjectURL(e))},Object.defineProperty(e,"__esModule",{value:!0})}((n={exports:{}},n.exports)),n.exports),p=(r=l)&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r;function h(){}function d(){d.init.call(this)}function y(e){return void 0===e._maxListeners?d.defaultMaxListeners:e._maxListeners}function v(e,t,n,r){var i,o;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');return(i=e._events)?(i.newListener&&(e.emit("newListener",t,n.listener||n),i=e._events),o=i[t]):(i=e._events=new h,e._eventsCount=0),o?("function"==typeof o?o=i[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),o.warned||(r=y(e))&&0<r&&o.length>r&&(o.warned=!0,(r=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit")).name="MaxListenersExceededWarning",r.emitter=e,r.type=t,r.count=o.length,r=r,"function"==typeof console.warn?console.warn(r):console.log(r))):(o=i[t]=n,++e._eventsCount),e}function m(e,t,n){var r=!1;function i(){e.removeListener(t,i),r||(r=!0,n.apply(e,arguments))}return i.listener=n,i}function w(e){var t=this._events;if(t){e=t[e];if("function"==typeof e)return 1;if(e)return e.length}return 0}function g(e,t){for(var n=new Array(t);t--;)n[t]=e[t];return n}h.prototype=Object.create(null),(d.EventEmitter=d).usingDomains=!1,d.prototype.domain=void 0,d.prototype._events=void 0,d.prototype._maxListeners=void 0,d.defaultMaxListeners=10,d.init=function(){this.domain=null,d.usingDomains&&(void 0).active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new h,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},d.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},d.prototype.getMaxListeners=function(){return y(this)},d.prototype.emit=function(e){var t,n,r,i="error"===e,o=this._events;if(o)i=i&&null==o.error;else if(!i)return!1;if(s=this.domain,i){if(i=arguments[1],s)return(i=i||new Error('Uncaught, unspecified "error" event')).domainEmitter=this,i.domain=s,i.domainThrown=!1,s.emit("error",i),!1;if(i instanceof Error)throw i;var s=new Error('Uncaught, unspecified "error" event. ('+i+")");throw s.context=i,s}if(!(t=o[e]))return!1;var u,a="function"==typeof t;switch(u=arguments.length){case 1:!function(e,t){if(a)e.call(t);else for(var n=e.length,r=g(e,n),i=0;i<n;++i)r[i].call(t)}(t,this);break;case 2:!function(e,t,n,r){if(t)e.call(n,r);else for(var i=e.length,o=g(e,i),s=0;s<i;++s)o[s].call(n,r)}(t,a,this,arguments[1]);break;case 3:!function(e,t,n,r,i){if(t)e.call(n,r,i);else for(var o=e.length,s=g(e,o),u=0;u<o;++u)s[u].call(n,r,i)}(t,a,this,arguments[1],arguments[2]);break;case 4:!function(e,t,n,r,i,o){if(t)e.call(n,r,i,o);else for(var s=e.length,u=g(e,s),a=0;a<s;++a)u[a].call(n,r,i,o)}(t,a,this,arguments[1],arguments[2],arguments[3]);break;default:for(n=new Array(u-1),r=1;r<u;r++)n[r-1]=arguments[r];!function(e,t,n){if(a)e.apply(t,n);else for(var r=e.length,i=g(e,r),o=0;o<r;++o)i[o].apply(t,n)}(t,this,n)}return!0},d.prototype.addListener=function(e,t){return v(this,e,t,!1)},d.prototype.on=d.prototype.addListener,d.prototype.prependListener=function(e,t){return v(this,e,t,!0)},d.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,m(this,e,t)),this},d.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,m(this,e,t)),this},d.prototype.removeListener=function(e,t){var n,r,i,o,s;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[e]))return this;if(n===t||n.listener&&n.listener===t)0==--this._eventsCount?this._events=new h:(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length;0<o--;)if(n[o]===t||n[o].listener&&n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;if(1===n.length){if(n[0]=void 0,0==--this._eventsCount)return this._events=new h,this;delete r[e]}else!function(e){for(var t=i,n=t+1,r=e.length;n<r;t+=1,n+=1)e[t]=e[n];e.pop()}(n);r.removeListener&&this.emit("removeListener",e,s||t)}return this},d.prototype.removeAllListeners=function(e){var t,n=this._events;if(!n)return this;if(!n.removeListener)return 0===arguments.length?(this._events=new h,this._eventsCount=0):n[e]&&(0==--this._eventsCount?this._events=new h:delete n[e]),this;if(0===arguments.length){for(var r,i=Object.keys(n),o=0;o<i.length;++o)"removeListener"!==(r=i[o])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new h,this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(t)for(;this.removeListener(e,t[t.length-1]),t[0];);return this},d.prototype.listeners=function(e){var t=this._events,n=t&&(n=t[e])?"function"==typeof n?[n.listener||n]:function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(n):[];return n},d.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):w.call(e,t)},d.prototype.listenerCount=w,d.prototype.eventNames=function(){return 0<this._eventsCount?Reflect.ownKeys(this._events):[]};var b=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(i,d);var e,t,n,r=f(i);function i(){var s;return function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),u(a(s=r.call(this)),"_worker",{}),u(a(s),"_inputFile",{}),u(a(s),"workerIsReady",!1),u(a(s),"readFileAsBufferArray",function(r){return new Promise(function(e,t){var n=new FileReader;n.onload=function(){e(this.result)},n.onerror=function(){t(this.error)},n.readAsArrayBuffer(r)})}),u(a(s),"runCommand",function(r,i){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:33554432;if("string"!=typeof r||"string"!=typeof i)throw new Error("command should be string and not empty");s.inputFile&&s.inputFile.type?s.convertInputFileToArrayBuffer().then(function(e){for(;!s.workerIsReady;);var t="video-".concat(Date.now(),".webm"),n="".concat(r," -i ").concat(t," ").concat(i);s.worker.postMessage({type:"command",arguments:n.split(" "),files:[{data:new Uint8Array(e),name:t}],totalMemory:o})}):s.worker.postMessage({type:"command",arguments:command.split(" "),totalMemory:o})}),u(a(s),"log",function(e){return Array.isArray(e)?console.log.call(null,e):console.log(e)}),u(a(s),"isVideo",function(e){var t=e.type;return e instanceof Blob&&(t.includes("video")||t.includes("audio"))}),s.initWebWorker(),s}return e=i,(t=[{key:"initWebWorker",value:function(){var n=this;this.worker=new p(c),this.log;var r=this.worker.onmessage=function(e){var t=e.data;e&&e.type&&("ready"==t.type?(n.emit("onReady","ffmpeg-asm.js file has been loaded."),n.workerIsReady=!0):"stdout"==t.type?n.emit("onStdout",t.data):"start"==t.type?(n.emit("onFileReceived","File Received"),r("file received ffmpeg command.")):"done"==t.type&&n.emit("onDone",t.data))}}},{key:"inputFileExists",value:function(){var e=this.inputFile;return!!(e&&e instanceof Blob&&e.size&&e.type)}},{key:"convertInputFileToArrayBuffer",value:function(){if(!this.inputFileExists())throw new Error("Input File has not been set");return this.readFileAsBufferArray(this.inputFile)}},{key:"worker",set:function(e){this._worker=e},get:function(){return this._worker}},{key:"inputFile",set:function(e){if(!this.isVideo(e))throw new Error("Input file is expected to be an audio or a video");this._inputFile=e},get:function(){return this._inputFile}}])&&o(e.prototype,t),n&&o(e,n),i}(),_=c,L=b,k={on:function(){},emit:function(){}},t=t||window;t&&t.Blob&&(k=new b);e.FFMPEGWebworker=_,e.FFMPEGWebworkerClient=L,e.default=k,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbIi4uL25vZGVfbW9kdWxlcy9yb2xsdXAtcGx1Z2luLW5vZGUtZ2xvYmFscy9zcmMvZ2xvYmFsLmpzIiwiLi4vc3JjL0ZGTVBFR1dlYldvcmtlci5qcyIsIi4uL25vZGVfbW9kdWxlcy93ZWJ3b3JrZXItZmlsZS9kaXN0L2luZGV4LmpzIiwiLi4vbm9kZV9tb2R1bGVzL3JvbGx1cC1wbHVnaW4tbm9kZS1idWlsdGlucy9zcmMvZXM2L2V2ZW50cy5qcyIsIi4uL3NyYy9GRk1QRUdXZWJXb3JrZXJDbGllbnQuanMiLCIuLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwgOlxuICAgICAgICAgICAgdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDpcbiAgICAgICAgICAgIHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSk7XG4iLCJjb25zdCB3b3JrZXJGaWxlID0gKCkgPT4ge1xuICBjb25zdCB3b3JrZXJQYXRoID1cbiAgICBcImh0dHBzOi8vY2RuLnJhd2dpdC5jb20vYmdyaW5zL3ZpZGVvY29udmVydGVyLmpzL21hc3Rlci9idWlsZC9mZm1wZWctYWxsLWNvZGVjcy5qc1wiO1xuXG4gIGltcG9ydFNjcmlwdHMod29ya2VyUGF0aCk7XG4gIGNvbnN0IG5vdyA9IERhdGUubm93O1xuICBmdW5jdGlvbiBwcmludCh0ZXh0KSB7XG4gICAgcG9zdE1lc3NhZ2UoeyB0eXBlOiBcInN0ZG91dFwiLCBkYXRhOiB0ZXh0IH0pO1xuICB9XG4gIG9ubWVzc2FnZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7XG4gICAgaWYgKG1lc3NhZ2UudHlwZSA9PT0gXCJjb21tYW5kXCIpIHtcbiAgICAgIGNvbnN0IE1vZHVsZSA9IHtcbiAgICAgICAgcHJpbnQ6IHByaW50LFxuICAgICAgICBwcmludEVycjogcHJpbnQsXG4gICAgICAgIGZpbGVzOiBtZXNzYWdlLmZpbGVzIHx8IFtdLFxuICAgICAgICBhcmd1bWVudHM6IG1lc3NhZ2UuYXJndW1lbnRzIHx8IFtdLFxuICAgICAgICBUT1RBTF9NRU1PUlk6IG1lc3NhZ2UudG90YWxNZW1vcnkgfHwgMzM1NTQ0MzJcbiAgICAgIH07XG4gICAgICBwb3N0TWVzc2FnZSh7IHR5cGU6IFwic3RhcnRcIiwgZGF0YTogTW9kdWxlLmFyZ3VtZW50cy5qb2luKFwiIFwiKSB9KTtcbiAgICAgIHBvc3RNZXNzYWdlKHtcbiAgICAgICAgdHlwZTogXCJzdGRvdXRcIixcbiAgICAgICAgZGF0YTpcbiAgICAgICAgICBcIlJlY2VpdmVkIGNvbW1hbmQ6IFwiICtcbiAgICAgICAgICBNb2R1bGUuYXJndW1lbnRzLmpvaW4oXCIgXCIpICtcbiAgICAgICAgICAoTW9kdWxlLlRPVEFMX01FTU9SWVxuICAgICAgICAgICAgPyBcIi4gIFByb2Nlc3Npbmcgd2l0aCBcIiArIE1vZHVsZS5UT1RBTF9NRU1PUlkgKyBcIiBiaXRzLlwiXG4gICAgICAgICAgICA6IFwiXCIpXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHRpbWUgPSBub3coKTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGZmbXBlZ19ydW4oTW9kdWxlKTtcbiAgICAgIGNvbnN0IHRvdGFsVGltZSA9IG5vdygpIC0gdGltZTtcbiAgICAgIHBvc3RNZXNzYWdlKHtcbiAgICAgICAgdHlwZTogXCJzdGRvdXRcIixcbiAgICAgICAgZGF0YTogXCJGaW5pc2hlZCBwcm9jZXNzaW5nICh0b29rIFwiICsgdG90YWxUaW1lICsgXCJtcylcIlxuICAgICAgfSk7XG4gICAgICBwb3N0TWVzc2FnZSh7IHR5cGU6IFwiZG9uZVwiLCBkYXRhOiByZXN1bHQsIHRpbWU6IHRvdGFsVGltZSB9KTtcbiAgICB9XG4gIH07XG4gIHBvc3RNZXNzYWdlKHsgdHlwZTogXCJyZWFkeVwiIH0pO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgd29ya2VyRmlsZTtcbiIsIiFmdW5jdGlvbihlLHQpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlP3QoZXhwb3J0cyk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXCJleHBvcnRzXCJdLHQpOnQoKGU9ZXx8c2VsZikud2Vid29ya2VyRmlsZT17fSl9KHRoaXMsZnVuY3Rpb24oZSl7XCJ1c2Ugc3RyaWN0XCI7ZS5kZWZhdWx0PWZ1bmN0aW9uIGUodCl7aWYoZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGUpLFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgbmV3IEVycm9yKFwiRmlsZSBjb250ZW50IG11c3QgZXhwb3J0IGEgZnVuY3Rpb25cIik7dmFyIG49dC50b1N0cmluZygpLG89bmV3IEJsb2IoW1wiKFwiK24rXCIpKClcIl0se3R5cGU6XCJhcHBsaWNhdGlvbi9qYXZhc2NyaXB0XCJ9KTtyZXR1cm4gbmV3IFdvcmtlcihVUkwuY3JlYXRlT2JqZWN0VVJMKG8pKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKbWFXeGxJam9pYVc1a1pYZ3Vhbk1pTENKemIzVnlZMlZ6SWpwYklpNHVMM055WXk5cGJtUmxlQzVxY3lKZExDSnpiM1Z5WTJWelEyOXVkR1Z1ZENJNld5SmxlSEJ2Y25RZ1pHVm1ZWFZzZENCamJHRnpjeUJYWldKWGIzSnJaWElnZTF4dUlDQmpiMjV6ZEhKMVkzUnZjaWgzYjNKclpYSXBJSHRjYmlBZ0lDQnBaaUFvZEhsd1pXOW1JSGR2Y210bGNpQWhQVDBnWENKbWRXNWpkR2x2Ymx3aUtTQjdYRzRnSUNBZ0lDQjBhSEp2ZHlCdVpYY2dSWEp5YjNJb1hDSkdhV3hsSUdOdmJuUmxiblFnYlhWemRDQmxlSEJ2Y25RZ1lTQm1kVzVqZEdsdmJsd2lLVHRjYmlBZ0lDQjlYRzRnSUNBZ1kyOXVjM1FnWTI5a1pTQTlJSGR2Y210bGNpNTBiMU4wY21sdVp5Z3BPMXh1SUNBZ0lHTnZibk4wSUdKc2IySWdQU0J1WlhjZ1FteHZZaWhiWENJb1hDSWdLeUJqYjJSbElDc2dYQ0lwS0NsY0lsMHNJSHRjYmlBZ0lDQWdJSFI1Y0dVNklGd2lZWEJ3YkdsallYUnBiMjR2YW1GMllYTmpjbWx3ZEZ3aVhHNGdJQ0FnZlNrN1hHNGdJQ0FnY21WMGRYSnVJRzVsZHlCWGIzSnJaWElvVlZKTUxtTnlaV0YwWlU5aWFtVmpkRlZTVENoaWJHOWlLU2s3WEc0Z0lIMWNibjFjYmlKZExDSnVZVzFsY3lJNld5SjNiM0pyWlhJaUxDSkZjbkp2Y2lJc0ltTnZaR1VpTENKMGIxTjBjbWx1WnlJc0ltSnNiMklpTENKQ2JHOWlJaXdpZEhsd1pTSXNJbGR2Y210bGNpSXNJbFZTVENJc0ltTnlaV0YwWlU5aWFtVmpkRlZTVENKZExDSnRZWEJ3YVc1bmN5STZJbTlPUVVORkxGZEJRVmxCTERKSFFVTlpMRzFDUVVGWVFTeFJRVU5JTEVsQlFVbERMRTFCUVUwc01rTkJSVnBETEVWQlFVOUdMRVZCUVU5SExGZEJRMlJETEVWQlFVOHNTVUZCU1VNc1MwRkJTeXhEUVVGRExFbEJRVTFJTEVWQlFVOHNUMEZCVVN4RFFVTXhRMGtzUzBGQlRTeHJRMEZGUkN4SlFVRkpReXhQUVVGUFF5eEpRVUZKUXl4blFrRkJaMEpNSW4wPVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgZG9tYWluO1xuXG4vLyBUaGlzIGNvbnN0cnVjdG9yIGlzIHVzZWQgdG8gc3RvcmUgZXZlbnQgaGFuZGxlcnMuIEluc3RhbnRpYXRpbmcgdGhpcyBpc1xuLy8gZmFzdGVyIHRoYW4gZXhwbGljaXRseSBjYWxsaW5nIGBPYmplY3QuY3JlYXRlKG51bGwpYCB0byBnZXQgYSBcImNsZWFuXCIgZW1wdHlcbi8vIG9iamVjdCAodGVzdGVkIHdpdGggdjggdjQuOSkuXG5mdW5jdGlvbiBFdmVudEhhbmRsZXJzKCkge31cbkV2ZW50SGFuZGxlcnMucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICBFdmVudEVtaXR0ZXIuaW5pdC5jYWxsKHRoaXMpO1xufVxuZXhwb3J0IGRlZmF1bHQgRXZlbnRFbWl0dGVyO1xuZXhwb3J0IHtFdmVudEVtaXR0ZXJ9O1xuXG4vLyBub2RlanMgb2RkaXR5XG4vLyByZXF1aXJlKCdldmVudHMnKSA9PT0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyXG5FdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyXG5cbkV2ZW50RW1pdHRlci51c2luZ0RvbWFpbnMgPSBmYWxzZTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5kb21haW4gPSB1bmRlZmluZWQ7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9ldmVudHMgPSB1bmRlZmluZWQ7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9tYXhMaXN0ZW5lcnMgPSB1bmRlZmluZWQ7XG5cbi8vIEJ5IGRlZmF1bHQgRXZlbnRFbWl0dGVycyB3aWxsIHByaW50IGEgd2FybmluZyBpZiBtb3JlIHRoYW4gMTAgbGlzdGVuZXJzIGFyZVxuLy8gYWRkZWQgdG8gaXQuIFRoaXMgaXMgYSB1c2VmdWwgZGVmYXVsdCB3aGljaCBoZWxwcyBmaW5kaW5nIG1lbW9yeSBsZWFrcy5cbkV2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzID0gMTA7XG5cbkV2ZW50RW1pdHRlci5pbml0ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuZG9tYWluID0gbnVsbDtcbiAgaWYgKEV2ZW50RW1pdHRlci51c2luZ0RvbWFpbnMpIHtcbiAgICAvLyBpZiB0aGVyZSBpcyBhbiBhY3RpdmUgZG9tYWluLCB0aGVuIGF0dGFjaCB0byBpdC5cbiAgICBpZiAoZG9tYWluLmFjdGl2ZSAmJiAhKHRoaXMgaW5zdGFuY2VvZiBkb21haW4uRG9tYWluKSkge1xuICAgICAgdGhpcy5kb21haW4gPSBkb21haW4uYWN0aXZlO1xuICAgIH1cbiAgfVxuXG4gIGlmICghdGhpcy5fZXZlbnRzIHx8IHRoaXMuX2V2ZW50cyA9PT0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLl9ldmVudHMpIHtcbiAgICB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRIYW5kbGVycygpO1xuICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgfVxuXG4gIHRoaXMuX21heExpc3RlbmVycyA9IHRoaXMuX21heExpc3RlbmVycyB8fCB1bmRlZmluZWQ7XG59O1xuXG4vLyBPYnZpb3VzbHkgbm90IGFsbCBFbWl0dGVycyBzaG91bGQgYmUgbGltaXRlZCB0byAxMC4gVGhpcyBmdW5jdGlvbiBhbGxvd3Ncbi8vIHRoYXQgdG8gYmUgaW5jcmVhc2VkLiBTZXQgdG8gemVybyBmb3IgdW5saW1pdGVkLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbiBzZXRNYXhMaXN0ZW5lcnMobikge1xuICBpZiAodHlwZW9mIG4gIT09ICdudW1iZXInIHx8IG4gPCAwIHx8IGlzTmFOKG4pKVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiblwiIGFyZ3VtZW50IG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXInKTtcbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gbjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5mdW5jdGlvbiAkZ2V0TWF4TGlzdGVuZXJzKHRoYXQpIHtcbiAgaWYgKHRoYXQuX21heExpc3RlbmVycyA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBFdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycztcbiAgcmV0dXJuIHRoYXQuX21heExpc3RlbmVycztcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5nZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbiBnZXRNYXhMaXN0ZW5lcnMoKSB7XG4gIHJldHVybiAkZ2V0TWF4TGlzdGVuZXJzKHRoaXMpO1xufTtcblxuLy8gVGhlc2Ugc3RhbmRhbG9uZSBlbWl0KiBmdW5jdGlvbnMgYXJlIHVzZWQgdG8gb3B0aW1pemUgY2FsbGluZyBvZiBldmVudFxuLy8gaGFuZGxlcnMgZm9yIGZhc3QgY2FzZXMgYmVjYXVzZSBlbWl0KCkgaXRzZWxmIG9mdGVuIGhhcyBhIHZhcmlhYmxlIG51bWJlciBvZlxuLy8gYXJndW1lbnRzIGFuZCBjYW4gYmUgZGVvcHRpbWl6ZWQgYmVjYXVzZSBvZiB0aGF0LiBUaGVzZSBmdW5jdGlvbnMgYWx3YXlzIGhhdmVcbi8vIHRoZSBzYW1lIG51bWJlciBvZiBhcmd1bWVudHMgYW5kIHRodXMgZG8gbm90IGdldCBkZW9wdGltaXplZCwgc28gdGhlIGNvZGVcbi8vIGluc2lkZSB0aGVtIGNhbiBleGVjdXRlIGZhc3Rlci5cbmZ1bmN0aW9uIGVtaXROb25lKGhhbmRsZXIsIGlzRm4sIHNlbGYpIHtcbiAgaWYgKGlzRm4pXG4gICAgaGFuZGxlci5jYWxsKHNlbGYpO1xuICBlbHNlIHtcbiAgICB2YXIgbGVuID0gaGFuZGxlci5sZW5ndGg7XG4gICAgdmFyIGxpc3RlbmVycyA9IGFycmF5Q2xvbmUoaGFuZGxlciwgbGVuKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKVxuICAgICAgbGlzdGVuZXJzW2ldLmNhbGwoc2VsZik7XG4gIH1cbn1cbmZ1bmN0aW9uIGVtaXRPbmUoaGFuZGxlciwgaXNGbiwgc2VsZiwgYXJnMSkge1xuICBpZiAoaXNGbilcbiAgICBoYW5kbGVyLmNhbGwoc2VsZiwgYXJnMSk7XG4gIGVsc2Uge1xuICAgIHZhciBsZW4gPSBoYW5kbGVyLmxlbmd0aDtcbiAgICB2YXIgbGlzdGVuZXJzID0gYXJyYXlDbG9uZShoYW5kbGVyLCBsZW4pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpXG4gICAgICBsaXN0ZW5lcnNbaV0uY2FsbChzZWxmLCBhcmcxKTtcbiAgfVxufVxuZnVuY3Rpb24gZW1pdFR3byhoYW5kbGVyLCBpc0ZuLCBzZWxmLCBhcmcxLCBhcmcyKSB7XG4gIGlmIChpc0ZuKVxuICAgIGhhbmRsZXIuY2FsbChzZWxmLCBhcmcxLCBhcmcyKTtcbiAgZWxzZSB7XG4gICAgdmFyIGxlbiA9IGhhbmRsZXIubGVuZ3RoO1xuICAgIHZhciBsaXN0ZW5lcnMgPSBhcnJheUNsb25lKGhhbmRsZXIsIGxlbik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSlcbiAgICAgIGxpc3RlbmVyc1tpXS5jYWxsKHNlbGYsIGFyZzEsIGFyZzIpO1xuICB9XG59XG5mdW5jdGlvbiBlbWl0VGhyZWUoaGFuZGxlciwgaXNGbiwgc2VsZiwgYXJnMSwgYXJnMiwgYXJnMykge1xuICBpZiAoaXNGbilcbiAgICBoYW5kbGVyLmNhbGwoc2VsZiwgYXJnMSwgYXJnMiwgYXJnMyk7XG4gIGVsc2Uge1xuICAgIHZhciBsZW4gPSBoYW5kbGVyLmxlbmd0aDtcbiAgICB2YXIgbGlzdGVuZXJzID0gYXJyYXlDbG9uZShoYW5kbGVyLCBsZW4pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpXG4gICAgICBsaXN0ZW5lcnNbaV0uY2FsbChzZWxmLCBhcmcxLCBhcmcyLCBhcmczKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBlbWl0TWFueShoYW5kbGVyLCBpc0ZuLCBzZWxmLCBhcmdzKSB7XG4gIGlmIChpc0ZuKVxuICAgIGhhbmRsZXIuYXBwbHkoc2VsZiwgYXJncyk7XG4gIGVsc2Uge1xuICAgIHZhciBsZW4gPSBoYW5kbGVyLmxlbmd0aDtcbiAgICB2YXIgbGlzdGVuZXJzID0gYXJyYXlDbG9uZShoYW5kbGVyLCBsZW4pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpXG4gICAgICBsaXN0ZW5lcnNbaV0uYXBwbHkoc2VsZiwgYXJncyk7XG4gIH1cbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gZW1pdCh0eXBlKSB7XG4gIHZhciBlciwgaGFuZGxlciwgbGVuLCBhcmdzLCBpLCBldmVudHMsIGRvbWFpbjtcbiAgdmFyIG5lZWREb21haW5FeGl0ID0gZmFsc2U7XG4gIHZhciBkb0Vycm9yID0gKHR5cGUgPT09ICdlcnJvcicpO1xuXG4gIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgaWYgKGV2ZW50cylcbiAgICBkb0Vycm9yID0gKGRvRXJyb3IgJiYgZXZlbnRzLmVycm9yID09IG51bGwpO1xuICBlbHNlIGlmICghZG9FcnJvcilcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgZG9tYWluID0gdGhpcy5kb21haW47XG5cbiAgLy8gSWYgdGhlcmUgaXMgbm8gJ2Vycm9yJyBldmVudCBsaXN0ZW5lciB0aGVuIHRocm93LlxuICBpZiAoZG9FcnJvcikge1xuICAgIGVyID0gYXJndW1lbnRzWzFdO1xuICAgIGlmIChkb21haW4pIHtcbiAgICAgIGlmICghZXIpXG4gICAgICAgIGVyID0gbmV3IEVycm9yKCdVbmNhdWdodCwgdW5zcGVjaWZpZWQgXCJlcnJvclwiIGV2ZW50Jyk7XG4gICAgICBlci5kb21haW5FbWl0dGVyID0gdGhpcztcbiAgICAgIGVyLmRvbWFpbiA9IGRvbWFpbjtcbiAgICAgIGVyLmRvbWFpblRocm93biA9IGZhbHNlO1xuICAgICAgZG9tYWluLmVtaXQoJ2Vycm9yJywgZXIpO1xuICAgIH0gZWxzZSBpZiAoZXIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgdGhyb3cgZXI7IC8vIFVuaGFuZGxlZCAnZXJyb3InIGV2ZW50XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEF0IGxlYXN0IGdpdmUgc29tZSBraW5kIG9mIGNvbnRleHQgdG8gdGhlIHVzZXJcbiAgICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoJ1VuY2F1Z2h0LCB1bnNwZWNpZmllZCBcImVycm9yXCIgZXZlbnQuICgnICsgZXIgKyAnKScpO1xuICAgICAgZXJyLmNvbnRleHQgPSBlcjtcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaGFuZGxlciA9IGV2ZW50c1t0eXBlXTtcblxuICBpZiAoIWhhbmRsZXIpXG4gICAgcmV0dXJuIGZhbHNlO1xuXG4gIHZhciBpc0ZuID0gdHlwZW9mIGhhbmRsZXIgPT09ICdmdW5jdGlvbic7XG4gIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gIHN3aXRjaCAobGVuKSB7XG4gICAgLy8gZmFzdCBjYXNlc1xuICAgIGNhc2UgMTpcbiAgICAgIGVtaXROb25lKGhhbmRsZXIsIGlzRm4sIHRoaXMpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAyOlxuICAgICAgZW1pdE9uZShoYW5kbGVyLCBpc0ZuLCB0aGlzLCBhcmd1bWVudHNbMV0pO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAzOlxuICAgICAgZW1pdFR3byhoYW5kbGVyLCBpc0ZuLCB0aGlzLCBhcmd1bWVudHNbMV0sIGFyZ3VtZW50c1syXSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIDQ6XG4gICAgICBlbWl0VGhyZWUoaGFuZGxlciwgaXNGbiwgdGhpcywgYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0sIGFyZ3VtZW50c1szXSk7XG4gICAgICBicmVhaztcbiAgICAvLyBzbG93ZXJcbiAgICBkZWZhdWx0OlxuICAgICAgYXJncyA9IG5ldyBBcnJheShsZW4gLSAxKTtcbiAgICAgIGZvciAoaSA9IDE7IGkgPCBsZW47IGkrKylcbiAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICBlbWl0TWFueShoYW5kbGVyLCBpc0ZuLCB0aGlzLCBhcmdzKTtcbiAgfVxuXG4gIGlmIChuZWVkRG9tYWluRXhpdClcbiAgICBkb21haW4uZXhpdCgpO1xuXG4gIHJldHVybiB0cnVlO1xufTtcblxuZnVuY3Rpb24gX2FkZExpc3RlbmVyKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIsIHByZXBlbmQpIHtcbiAgdmFyIG07XG4gIHZhciBldmVudHM7XG4gIHZhciBleGlzdGluZztcblxuICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdGVuZXJcIiBhcmd1bWVudCBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblxuICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcbiAgaWYgKCFldmVudHMpIHtcbiAgICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cyA9IG5ldyBFdmVudEhhbmRsZXJzKCk7XG4gICAgdGFyZ2V0Ll9ldmVudHNDb3VudCA9IDA7XG4gIH0gZWxzZSB7XG4gICAgLy8gVG8gYXZvaWQgcmVjdXJzaW9uIGluIHRoZSBjYXNlIHRoYXQgdHlwZSA9PT0gXCJuZXdMaXN0ZW5lclwiISBCZWZvcmVcbiAgICAvLyBhZGRpbmcgaXQgdG8gdGhlIGxpc3RlbmVycywgZmlyc3QgZW1pdCBcIm5ld0xpc3RlbmVyXCIuXG4gICAgaWYgKGV2ZW50cy5uZXdMaXN0ZW5lcikge1xuICAgICAgdGFyZ2V0LmVtaXQoJ25ld0xpc3RlbmVyJywgdHlwZSxcbiAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLmxpc3RlbmVyID8gbGlzdGVuZXIubGlzdGVuZXIgOiBsaXN0ZW5lcik7XG5cbiAgICAgIC8vIFJlLWFzc2lnbiBgZXZlbnRzYCBiZWNhdXNlIGEgbmV3TGlzdGVuZXIgaGFuZGxlciBjb3VsZCBoYXZlIGNhdXNlZCB0aGVcbiAgICAgIC8vIHRoaXMuX2V2ZW50cyB0byBiZSBhc3NpZ25lZCB0byBhIG5ldyBvYmplY3RcbiAgICAgIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuICAgIH1cbiAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXTtcbiAgfVxuXG4gIGlmICghZXhpc3RpbmcpIHtcbiAgICAvLyBPcHRpbWl6ZSB0aGUgY2FzZSBvZiBvbmUgbGlzdGVuZXIuIERvbid0IG5lZWQgdGhlIGV4dHJhIGFycmF5IG9iamVjdC5cbiAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXSA9IGxpc3RlbmVyO1xuICAgICsrdGFyZ2V0Ll9ldmVudHNDb3VudDtcbiAgfSBlbHNlIHtcbiAgICBpZiAodHlwZW9mIGV4aXN0aW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAvLyBBZGRpbmcgdGhlIHNlY29uZCBlbGVtZW50LCBuZWVkIHRvIGNoYW5nZSB0byBhcnJheS5cbiAgICAgIGV4aXN0aW5nID0gZXZlbnRzW3R5cGVdID0gcHJlcGVuZCA/IFtsaXN0ZW5lciwgZXhpc3RpbmddIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtleGlzdGluZywgbGlzdGVuZXJdO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IGdvdCBhbiBhcnJheSwganVzdCBhcHBlbmQuXG4gICAgICBpZiAocHJlcGVuZCkge1xuICAgICAgICBleGlzdGluZy51bnNoaWZ0KGxpc3RlbmVyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGV4aXN0aW5nLnB1c2gobGlzdGVuZXIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciBsaXN0ZW5lciBsZWFrXG4gICAgaWYgKCFleGlzdGluZy53YXJuZWQpIHtcbiAgICAgIG0gPSAkZ2V0TWF4TGlzdGVuZXJzKHRhcmdldCk7XG4gICAgICBpZiAobSAmJiBtID4gMCAmJiBleGlzdGluZy5sZW5ndGggPiBtKSB7XG4gICAgICAgIGV4aXN0aW5nLndhcm5lZCA9IHRydWU7XG4gICAgICAgIHZhciB3ID0gbmV3IEVycm9yKCdQb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5IGxlYWsgZGV0ZWN0ZWQuICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nLmxlbmd0aCArICcgJyArIHR5cGUgKyAnIGxpc3RlbmVycyBhZGRlZC4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1VzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvIGluY3JlYXNlIGxpbWl0Jyk7XG4gICAgICAgIHcubmFtZSA9ICdNYXhMaXN0ZW5lcnNFeGNlZWRlZFdhcm5pbmcnO1xuICAgICAgICB3LmVtaXR0ZXIgPSB0YXJnZXQ7XG4gICAgICAgIHcudHlwZSA9IHR5cGU7XG4gICAgICAgIHcuY291bnQgPSBleGlzdGluZy5sZW5ndGg7XG4gICAgICAgIGVtaXRXYXJuaW5nKHcpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5mdW5jdGlvbiBlbWl0V2FybmluZyhlKSB7XG4gIHR5cGVvZiBjb25zb2xlLndhcm4gPT09ICdmdW5jdGlvbicgPyBjb25zb2xlLndhcm4oZSkgOiBjb25zb2xlLmxvZyhlKTtcbn1cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbiBhZGRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICByZXR1cm4gX2FkZExpc3RlbmVyKHRoaXMsIHR5cGUsIGxpc3RlbmVyLCBmYWxzZSk7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5wcmVwZW5kTGlzdGVuZXIgPVxuICAgIGZ1bmN0aW9uIHByZXBlbmRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgcmV0dXJuIF9hZGRMaXN0ZW5lcih0aGlzLCB0eXBlLCBsaXN0ZW5lciwgdHJ1ZSk7XG4gICAgfTtcblxuZnVuY3Rpb24gX29uY2VXcmFwKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIpIHtcbiAgdmFyIGZpcmVkID0gZmFsc2U7XG4gIGZ1bmN0aW9uIGcoKSB7XG4gICAgdGFyZ2V0LnJlbW92ZUxpc3RlbmVyKHR5cGUsIGcpO1xuICAgIGlmICghZmlyZWQpIHtcbiAgICAgIGZpcmVkID0gdHJ1ZTtcbiAgICAgIGxpc3RlbmVyLmFwcGx5KHRhcmdldCwgYXJndW1lbnRzKTtcbiAgICB9XG4gIH1cbiAgZy5saXN0ZW5lciA9IGxpc3RlbmVyO1xuICByZXR1cm4gZztcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gb25jZSh0eXBlLCBsaXN0ZW5lcikge1xuICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdGVuZXJcIiBhcmd1bWVudCBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgdGhpcy5vbih0eXBlLCBfb25jZVdyYXAodGhpcywgdHlwZSwgbGlzdGVuZXIpKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnByZXBlbmRPbmNlTGlzdGVuZXIgPVxuICAgIGZ1bmN0aW9uIHByZXBlbmRPbmNlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdmdW5jdGlvbicpXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdGVuZXJcIiBhcmd1bWVudCBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgICAgIHRoaXMucHJlcGVuZExpc3RlbmVyKHR5cGUsIF9vbmNlV3JhcCh0aGlzLCB0eXBlLCBsaXN0ZW5lcikpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuLy8gZW1pdHMgYSAncmVtb3ZlTGlzdGVuZXInIGV2ZW50IGlmZiB0aGUgbGlzdGVuZXIgd2FzIHJlbW92ZWRcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPVxuICAgIGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICB2YXIgbGlzdCwgZXZlbnRzLCBwb3NpdGlvbiwgaSwgb3JpZ2luYWxMaXN0ZW5lcjtcblxuICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0ZW5lclwiIGFyZ3VtZW50IG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXG4gICAgICBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gICAgICBpZiAoIWV2ZW50cylcbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgIGxpc3QgPSBldmVudHNbdHlwZV07XG4gICAgICBpZiAoIWxpc3QpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICBpZiAobGlzdCA9PT0gbGlzdGVuZXIgfHwgKGxpc3QubGlzdGVuZXIgJiYgbGlzdC5saXN0ZW5lciA9PT0gbGlzdGVuZXIpKSB7XG4gICAgICAgIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKVxuICAgICAgICAgIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudEhhbmRsZXJzKCk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGRlbGV0ZSBldmVudHNbdHlwZV07XG4gICAgICAgICAgaWYgKGV2ZW50cy5yZW1vdmVMaXN0ZW5lcilcbiAgICAgICAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBsaXN0Lmxpc3RlbmVyIHx8IGxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgbGlzdCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBwb3NpdGlvbiA9IC0xO1xuXG4gICAgICAgIGZvciAoaSA9IGxpc3QubGVuZ3RoOyBpLS0gPiAwOykge1xuICAgICAgICAgIGlmIChsaXN0W2ldID09PSBsaXN0ZW5lciB8fFxuICAgICAgICAgICAgICAobGlzdFtpXS5saXN0ZW5lciAmJiBsaXN0W2ldLmxpc3RlbmVyID09PSBsaXN0ZW5lcikpIHtcbiAgICAgICAgICAgIG9yaWdpbmFsTGlzdGVuZXIgPSBsaXN0W2ldLmxpc3RlbmVyO1xuICAgICAgICAgICAgcG9zaXRpb24gPSBpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBvc2l0aW9uIDwgMClcbiAgICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgICBpZiAobGlzdC5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICBsaXN0WzBdID0gdW5kZWZpbmVkO1xuICAgICAgICAgIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRIYW5kbGVycygpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRlbGV0ZSBldmVudHNbdHlwZV07XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNwbGljZU9uZShsaXN0LCBwb3NpdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBvcmlnaW5hbExpc3RlbmVyIHx8IGxpc3RlbmVyKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPVxuICAgIGZ1bmN0aW9uIHJlbW92ZUFsbExpc3RlbmVycyh0eXBlKSB7XG4gICAgICB2YXIgbGlzdGVuZXJzLCBldmVudHM7XG5cbiAgICAgIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgICAgIGlmICghZXZlbnRzKVxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgLy8gbm90IGxpc3RlbmluZyBmb3IgcmVtb3ZlTGlzdGVuZXIsIG5vIG5lZWQgdG8gZW1pdFxuICAgICAgaWYgKCFldmVudHMucmVtb3ZlTGlzdGVuZXIpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRIYW5kbGVycygpO1xuICAgICAgICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgICAgICAgfSBlbHNlIGlmIChldmVudHNbdHlwZV0pIHtcbiAgICAgICAgICBpZiAoLS10aGlzLl9ldmVudHNDb3VudCA9PT0gMClcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudEhhbmRsZXJzKCk7XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgZGVsZXRlIGV2ZW50c1t0eXBlXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgLy8gZW1pdCByZW1vdmVMaXN0ZW5lciBmb3IgYWxsIGxpc3RlbmVycyBvbiBhbGwgZXZlbnRzXG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGV2ZW50cyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBrZXk7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICBpZiAoa2V5ID09PSAncmVtb3ZlTGlzdGVuZXInKSBjb250aW51ZTtcbiAgICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCdyZW1vdmVMaXN0ZW5lcicpO1xuICAgICAgICB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRIYW5kbGVycygpO1xuICAgICAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICBsaXN0ZW5lcnMgPSBldmVudHNbdHlwZV07XG5cbiAgICAgIGlmICh0eXBlb2YgbGlzdGVuZXJzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzKTtcbiAgICAgIH0gZWxzZSBpZiAobGlzdGVuZXJzKSB7XG4gICAgICAgIC8vIExJRk8gb3JkZXJcbiAgICAgICAgZG8ge1xuICAgICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzW2xpc3RlbmVycy5sZW5ndGggLSAxXSk7XG4gICAgICAgIH0gd2hpbGUgKGxpc3RlbmVyc1swXSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24gbGlzdGVuZXJzKHR5cGUpIHtcbiAgdmFyIGV2bGlzdGVuZXI7XG4gIHZhciByZXQ7XG4gIHZhciBldmVudHMgPSB0aGlzLl9ldmVudHM7XG5cbiAgaWYgKCFldmVudHMpXG4gICAgcmV0ID0gW107XG4gIGVsc2Uge1xuICAgIGV2bGlzdGVuZXIgPSBldmVudHNbdHlwZV07XG4gICAgaWYgKCFldmxpc3RlbmVyKVxuICAgICAgcmV0ID0gW107XG4gICAgZWxzZSBpZiAodHlwZW9mIGV2bGlzdGVuZXIgPT09ICdmdW5jdGlvbicpXG4gICAgICByZXQgPSBbZXZsaXN0ZW5lci5saXN0ZW5lciB8fCBldmxpc3RlbmVyXTtcbiAgICBlbHNlXG4gICAgICByZXQgPSB1bndyYXBMaXN0ZW5lcnMoZXZsaXN0ZW5lcik7XG4gIH1cblxuICByZXR1cm4gcmV0O1xufTtcblxuRXZlbnRFbWl0dGVyLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbihlbWl0dGVyLCB0eXBlKSB7XG4gIGlmICh0eXBlb2YgZW1pdHRlci5saXN0ZW5lckNvdW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGVtaXR0ZXIubGlzdGVuZXJDb3VudCh0eXBlKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbGlzdGVuZXJDb3VudC5jYWxsKGVtaXR0ZXIsIHR5cGUpO1xuICB9XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQgPSBsaXN0ZW5lckNvdW50O1xuZnVuY3Rpb24gbGlzdGVuZXJDb3VudCh0eXBlKSB7XG4gIHZhciBldmVudHMgPSB0aGlzLl9ldmVudHM7XG5cbiAgaWYgKGV2ZW50cykge1xuICAgIHZhciBldmxpc3RlbmVyID0gZXZlbnRzW3R5cGVdO1xuXG4gICAgaWYgKHR5cGVvZiBldmxpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9IGVsc2UgaWYgKGV2bGlzdGVuZXIpIHtcbiAgICAgIHJldHVybiBldmxpc3RlbmVyLmxlbmd0aDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gMDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5ldmVudE5hbWVzID0gZnVuY3Rpb24gZXZlbnROYW1lcygpIHtcbiAgcmV0dXJuIHRoaXMuX2V2ZW50c0NvdW50ID4gMCA/IFJlZmxlY3Qub3duS2V5cyh0aGlzLl9ldmVudHMpIDogW107XG59O1xuXG4vLyBBYm91dCAxLjV4IGZhc3RlciB0aGFuIHRoZSB0d28tYXJnIHZlcnNpb24gb2YgQXJyYXkjc3BsaWNlKCkuXG5mdW5jdGlvbiBzcGxpY2VPbmUobGlzdCwgaW5kZXgpIHtcbiAgZm9yICh2YXIgaSA9IGluZGV4LCBrID0gaSArIDEsIG4gPSBsaXN0Lmxlbmd0aDsgayA8IG47IGkgKz0gMSwgayArPSAxKVxuICAgIGxpc3RbaV0gPSBsaXN0W2tdO1xuICBsaXN0LnBvcCgpO1xufVxuXG5mdW5jdGlvbiBhcnJheUNsb25lKGFyciwgaSkge1xuICB2YXIgY29weSA9IG5ldyBBcnJheShpKTtcbiAgd2hpbGUgKGktLSlcbiAgICBjb3B5W2ldID0gYXJyW2ldO1xuICByZXR1cm4gY29weTtcbn1cblxuZnVuY3Rpb24gdW53cmFwTGlzdGVuZXJzKGFycikge1xuICB2YXIgcmV0ID0gbmV3IEFycmF5KGFyci5sZW5ndGgpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHJldC5sZW5ndGg7ICsraSkge1xuICAgIHJldFtpXSA9IGFycltpXS5saXN0ZW5lciB8fCBhcnJbaV07XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cbiIsImltcG9ydCBXb3JrZXJGaWxlIGZyb20gXCJ3ZWJ3b3JrZXItZmlsZVwiO1xuaW1wb3J0IHdvcmtlckZpbGUgZnJvbSBcIi4vRkZNUEVHV2ViV29ya2VyXCI7XG5pbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tIFwiZXZlbnRzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZGTVBFR1dlYndvcmtlckNsaWVudCBleHRlbmRzIEV2ZW50RW1pdHRlciB7XG4gIC8qKlxuICAgKiBAdHlwZSB7V29ya2VyfVxuICAgKi9cbiAgX3dvcmtlciA9IHt9O1xuICAvKipcbiAgICogQHR5cGUge0Jsb2J9XG4gICAqL1xuICBfaW5wdXRGaWxlID0ge307XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtCb29sZWFufVxuICAgKi9cbiAgd29ya2VySXNSZWFkeSA9IGZhbHNlO1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuaW5pdFdlYldvcmtlcigpO1xuICB9XG5cbiAgaW5pdFdlYldvcmtlcigpIHtcbiAgICB0aGlzLndvcmtlciA9IG5ldyBXb3JrZXJGaWxlKHdvcmtlckZpbGUpO1xuICAgIHRoaXMubG9nO1xuICAgIGNvbnN0IGxvZyA9ICh0aGlzLndvcmtlci5vbm1lc3NhZ2UgPSAoZXZlbnQpID0+IHtcbiAgICAgIGxldCBtZXNzYWdlID0gZXZlbnQuZGF0YTtcbiAgICAgIGlmIChldmVudCAmJiBldmVudC50eXBlKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnR5cGUgPT0gXCJyZWFkeVwiKSB7XG4gICAgICAgICAgdGhpcy5lbWl0KFwib25SZWFkeVwiLCBcImZmbXBlZy1hc20uanMgZmlsZSBoYXMgYmVlbiBsb2FkZWQuXCIpO1xuICAgICAgICAgIHRoaXMud29ya2VySXNSZWFkeSA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAobWVzc2FnZS50eXBlID09IFwic3Rkb3V0XCIpIHtcbiAgICAgICAgICB0aGlzLmVtaXQoXCJvblN0ZG91dFwiLCBtZXNzYWdlLmRhdGEpO1xuICAgICAgICB9IGVsc2UgaWYgKG1lc3NhZ2UudHlwZSA9PSBcInN0YXJ0XCIpIHtcbiAgICAgICAgICB0aGlzLmVtaXQoXCJvbkZpbGVSZWNlaXZlZFwiLCBcIkZpbGUgUmVjZWl2ZWRcIik7XG4gICAgICAgICAgbG9nKFwiZmlsZSByZWNlaXZlZCBmZm1wZWcgY29tbWFuZC5cIik7XG4gICAgICAgIH0gZWxzZSBpZiAobWVzc2FnZS50eXBlID09IFwiZG9uZVwiKSB7XG4gICAgICAgICAgdGhpcy5lbWl0KFwib25Eb25lXCIsIG1lc3NhZ2UuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHNldCB3b3JrZXIod29ya2VyKSB7XG4gICAgdGhpcy5fd29ya2VyID0gd29ya2VyO1xuICB9XG4gIGdldCB3b3JrZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dvcmtlcjtcbiAgfVxuXG4gIHNldCBpbnB1dEZpbGUoaW5wdXRGaWxlKSB7XG4gICAgaWYgKCF0aGlzLmlzVmlkZW8oaW5wdXRGaWxlKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW5wdXQgZmlsZSBpcyBleHBlY3RlZCB0byBiZSBhbiBhdWRpbyBvciBhIHZpZGVvXCIpO1xuICAgIH1cbiAgICB0aGlzLl9pbnB1dEZpbGUgPSBpbnB1dEZpbGU7XG4gIH1cbiAgZ2V0IGlucHV0RmlsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5faW5wdXRGaWxlO1xuICB9XG5cbiAgLyoqXG4gICAqIHVzZSB3b3JrZXIgdG8gZW5jb2RlIGF1ZGlvXG4gICAqIEBwYXJhbSB7QmxvYn0gZmlsZVxuICAgKiBAcmV0dXJuIHtQcm9taXNlPEFycmF5QnVmZmVyPn1cbiAgICovXG4gIHJlYWRGaWxlQXNCdWZmZXJBcnJheSA9IChmaWxlKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBmaWxlUmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgIGZpbGVSZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXNvbHZlKHRoaXMucmVzdWx0KTtcbiAgICAgIH07XG4gICAgICBmaWxlUmVhZGVyLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJlamVjdCh0aGlzLmVycm9yKTtcbiAgICAgIH07XG4gICAgICBmaWxlUmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGZpbGUpO1xuICAgIH0pO1xuICB9O1xuXG4gIGlucHV0RmlsZUV4aXN0cygpIHtcbiAgICBjb25zdCBpbnB1dEZpbGUgPSB0aGlzLmlucHV0RmlsZTtcbiAgICByZXR1cm4gISEoXG4gICAgICBpbnB1dEZpbGUgJiZcbiAgICAgIGlucHV0RmlsZSBpbnN0YW5jZW9mIEJsb2IgJiZcbiAgICAgIGlucHV0RmlsZS5zaXplICYmXG4gICAgICBpbnB1dEZpbGUudHlwZVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogdXNlIHdvcmtlciB0byBlbmNvZGUgYXVkaW9cbiAgICogQHBhcmFtIHtCbG9ifSBpbnB1dEZpbGVcbiAgICogQHJldHVybiB7UHJvbWlzZTxBcnJheUJ1ZmZlcj59XG4gICAqL1xuICBjb252ZXJ0SW5wdXRGaWxlVG9BcnJheUJ1ZmZlcigpIHtcbiAgICBpZiAoIXRoaXMuaW5wdXRGaWxlRXhpc3RzKCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIklucHV0IEZpbGUgaGFzIG5vdCBiZWVuIHNldFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucmVhZEZpbGVBc0J1ZmZlckFycmF5KHRoaXMuaW5wdXRGaWxlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gcHJlSUNvbW1hbmRcbiAgICogQHBhcmFtIHtTdHJpbmd9IHBvc3RJQ29tbWFuZFxuICAgKi9cbiAgcnVuQ29tbWFuZCA9IChwcmVJQ29tbWFuZCwgcG9zdElDb21tYW5kLCB0b3RhbE1lbW9yeSA9IDMzNTU0NDMyKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBwcmVJQ29tbWFuZCAhPT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgcG9zdElDb21tYW5kICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJjb21tYW5kIHNob3VsZCBiZSBzdHJpbmcgYW5kIG5vdCBlbXB0eVwiKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuaW5wdXRGaWxlICYmIHRoaXMuaW5wdXRGaWxlLnR5cGUpIHtcbiAgICAgIHRoaXMuY29udmVydElucHV0RmlsZVRvQXJyYXlCdWZmZXIoKS50aGVuKChhcnJheUJ1ZmZlcikgPT4ge1xuICAgICAgICB3aGlsZSAoIXRoaXMud29ya2VySXNSZWFkeSkge31cbiAgICAgICAgY29uc3QgZmlsZW5hbWUgPSBgdmlkZW8tJHtEYXRlLm5vdygpfS53ZWJtYDtcblxuICAgICAgICBjb25zdCBpbnB1dENvbW1hbmQgPSBgJHtwcmVJQ29tbWFuZH0gLWkgJHtmaWxlbmFtZX0gJHtwb3N0SUNvbW1hbmR9YDtcbiAgICAgICAgdGhpcy53b3JrZXIucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgIHR5cGU6IFwiY29tbWFuZFwiLFxuICAgICAgICAgIGFyZ3VtZW50czogaW5wdXRDb21tYW5kLnNwbGl0KFwiIFwiKSxcbiAgICAgICAgICBmaWxlczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBkYXRhOiBuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlciksXG4gICAgICAgICAgICAgIG5hbWU6IGZpbGVuYW1lLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICAgIHRvdGFsTWVtb3J5LFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLndvcmtlci5wb3N0TWVzc2FnZSh7XG4gICAgICAgIHR5cGU6IFwiY29tbWFuZFwiLFxuICAgICAgICBhcmd1bWVudHM6IGNvbW1hbmQuc3BsaXQoXCIgXCIpLFxuICAgICAgICB0b3RhbE1lbW9yeSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtTdHJpbmcgfCBBcnJheTxTdHJpbmc+fSBtZXNzYWdlXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBsb2cgPSAobWVzc2FnZSkgPT5cbiAgICBBcnJheS5pc0FycmF5KG1lc3NhZ2UpXG4gICAgICA/IGNvbnNvbGUubG9nLmNhbGwobnVsbCwgbWVzc2FnZSlcbiAgICAgIDogY29uc29sZS5sb2cobWVzc2FnZSk7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7QmxvYn0gZmlsZVxuICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgKi9cbiAgaXNWaWRlbyA9IChmaWxlKSA9PiB7XG4gICAgY29uc3QgZmlsZVR5cGUgPSBmaWxlLnR5cGU7XG4gICAgcmV0dXJuIChcbiAgICAgIGZpbGUgaW5zdGFuY2VvZiBCbG9iICYmXG4gICAgICAoZmlsZVR5cGUuaW5jbHVkZXMoXCJ2aWRlb1wiKSB8fCBmaWxlVHlwZS5pbmNsdWRlcyhcImF1ZGlvXCIpKVxuICAgICk7XG4gIH07XG59XG4iLCJpbXBvcnQgV2Vid29ya2VyQ2xpZW50IGZyb20gXCIuL0ZGTVBFR1dlYldvcmtlckNsaWVudFwiO1xuaW1wb3J0IFdlYndvcmtlciBmcm9tIFwiLi9GRk1QRUdXZWJXb3JrZXJcIjtcblxuZXhwb3J0IGNvbnN0IEZGTVBFR1dlYndvcmtlciA9IFdlYndvcmtlcjtcbmV4cG9ydCBjb25zdCBGRk1QRUdXZWJ3b3JrZXJDbGllbnQgPSBXZWJ3b3JrZXJDbGllbnQ7XG5sZXQgd29ya2VyQ2xpZW50ID0geyBvbigpIHt9LCBlbWl0KCkge30gfTtcbmNvbnN0IF93aW5kb3cgPSBnbG9iYWwgfHwgd2luZG93O1xuaWYgKF93aW5kb3cgJiYgX3dpbmRvdy5CbG9iKSB7XG4gIHdvcmtlckNsaWVudCA9IG5ldyBXZWJ3b3JrZXJDbGllbnQoKTtcbn1cbmV4cG9ydCBkZWZhdWx0IHdvcmtlckNsaWVudDtcbiJdLCJuYW1lcyI6WyJnbG9iYWwiLCJzZWxmIiwid2luZG93Iiwid29ya2VyRmlsZSIsImltcG9ydFNjcmlwdHMiLCJub3ciLCJEYXRlIiwicHJpbnQiLCJ0ZXh0IiwicG9zdE1lc3NhZ2UiLCJ0eXBlIiwiZGF0YSIsIm9ubWVzc2FnZSIsImV2ZW50IiwibWVzc2FnZSIsIk1vZHVsZSIsInByaW50RXJyIiwiZmlsZXMiLCJhcmd1bWVudHMiLCJUT1RBTF9NRU1PUlkiLCJ0b3RhbE1lbW9yeSIsImpvaW4iLCJ0aW1lIiwicmVzdWx0IiwiZmZtcGVnX3J1biIsInRvdGFsVGltZSIsImUiLCJleHBvcnRzIiwiZGVmYXVsdCIsInQiLCJUeXBlRXJyb3IiLCJ0aGlzIiwiRXJyb3IiLCJuIiwidG9TdHJpbmciLCJvIiwiQmxvYiIsIldvcmtlciIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCJFdmVudEhhbmRsZXJzIiwiRXZlbnRFbWl0dGVyIiwiaW5pdCIsImNhbGwiLCIkZ2V0TWF4TGlzdGVuZXJzIiwidGhhdCIsInVuZGVmaW5lZCIsIl9tYXhMaXN0ZW5lcnMiLCJkZWZhdWx0TWF4TGlzdGVuZXJzIiwiX2FkZExpc3RlbmVyIiwidGFyZ2V0IiwibGlzdGVuZXIiLCJwcmVwZW5kIiwiZXZlbnRzIiwiZXhpc3RpbmciLCJfZXZlbnRzIiwibmV3TGlzdGVuZXIiLCJlbWl0IiwiX2V2ZW50c0NvdW50IiwidW5zaGlmdCIsInB1c2giLCJ3YXJuZWQiLCJtIiwibGVuZ3RoIiwidyIsIm5hbWUiLCJlbWl0dGVyIiwiY291bnQiLCJjb25zb2xlIiwid2FybiIsImxvZyIsIl9vbmNlV3JhcCIsImZpcmVkIiwiZyIsInJlbW92ZUxpc3RlbmVyIiwiYXBwbHkiLCJsaXN0ZW5lckNvdW50IiwiZXZsaXN0ZW5lciIsImFycmF5Q2xvbmUiLCJhcnIiLCJpIiwiY29weSIsIkFycmF5IiwicHJvdG90eXBlIiwiY3JlYXRlIiwidXNpbmdEb21haW5zIiwiZG9tYWluIiwiYWN0aXZlIiwiZ2V0UHJvdG90eXBlT2YiLCJzZXRNYXhMaXN0ZW5lcnMiLCJpc05hTiIsImdldE1heExpc3RlbmVycyIsImhhbmRsZXIiLCJhcmdzIiwiZG9FcnJvciIsImVycm9yIiwiZXIiLCJkb21haW5FbWl0dGVyIiwiZG9tYWluVGhyb3duIiwiZXJyIiwiY29udGV4dCIsImxlbiIsImlzRm4iLCJsaXN0ZW5lcnMiLCJlbWl0Tm9uZSIsImFyZzEiLCJlbWl0T25lIiwiYXJnMiIsImVtaXRUd28iLCJhcmczIiwiZW1pdFRocmVlIiwiZW1pdE1hbnkiLCJhZGRMaXN0ZW5lciIsIm9uIiwicHJlcGVuZExpc3RlbmVyIiwib25jZSIsInByZXBlbmRPbmNlTGlzdGVuZXIiLCJsaXN0IiwicG9zaXRpb24iLCJvcmlnaW5hbExpc3RlbmVyIiwiayIsInBvcCIsInNwbGljZU9uZSIsInJlbW92ZUFsbExpc3RlbmVycyIsImtleSIsImtleXMiLCJyZXQiLCJ1bndyYXBMaXN0ZW5lcnMiLCJldmVudE5hbWVzIiwiUmVmbGVjdCIsIm93bktleXMiLCJGRk1QRUdXZWJ3b3JrZXJDbGllbnQiLCJmaWxlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJmaWxlUmVhZGVyIiwiRmlsZVJlYWRlciIsIm9ubG9hZCIsIm9uZXJyb3IiLCJyZWFkQXNBcnJheUJ1ZmZlciIsInByZUlDb21tYW5kIiwicG9zdElDb21tYW5kIiwiX3RoaXMiLCJpbnB1dEZpbGUiLCJjb252ZXJ0SW5wdXRGaWxlVG9BcnJheUJ1ZmZlciIsInRoZW4iLCJhcnJheUJ1ZmZlciIsIndvcmtlcklzUmVhZHkiLCJmaWxlbmFtZSIsImlucHV0Q29tbWFuZCIsIndvcmtlciIsInNwbGl0IiwiVWludDhBcnJheSIsImNvbW1hbmQiLCJpc0FycmF5IiwiZmlsZVR5cGUiLCJpbmNsdWRlcyIsImluaXRXZWJXb3JrZXIiLCJXb3JrZXJGaWxlIiwiX3RoaXMyIiwic2l6ZSIsImlucHV0RmlsZUV4aXN0cyIsInJlYWRGaWxlQXNCdWZmZXJBcnJheSIsIl93b3JrZXIiLCJpc1ZpZGVvIiwiX2lucHV0RmlsZSIsIkZGTVBFR1dlYndvcmtlciIsIldlYndvcmtlciIsIldlYndvcmtlckNsaWVudCIsIndvcmtlckNsaWVudCIsIl93aW5kb3ciXSwibWFwcGluZ3MiOiJrTkFBa0Msb0JBQVhBLE9BQXlCQSxPQUNwQixvQkFBVEMsS0FBdUJBLEtBQ1osb0JBQVhDLE9BQXlCQSxPQUFTLGlrQ0NGbEMsU0FBYkMsSUFJSkMsY0FGRSx5RkFHSUMsRUFBTUMsS0FBS0QsYUFDUkUsRUFBTUMsR0FDYkMsWUFBWSxDQUFFQyxLQUFNLFNBQVVDLEtBQU1ILElBRXRDSSxVQUFZLFNBQVNDLE9BQ2JDLEVBQVVELEVBQU1GLEtBQ0QsWUFBakJHLEVBQVFKLE9BQ0pLLEVBQVMsQ0FDYlIsTUFBT0EsRUFDUFMsU0FBVVQsRUFDVlUsTUFBT0gsRUFBUUcsT0FBUyxHQUN4QkMsVUFBV0osRUFBUUksV0FBYSxHQUNoQ0MsYUFBY0wsRUFBUU0sYUFBZSxVQUV2Q1gsWUFBWSxDQUFFQyxLQUFNLFFBQVNDLEtBQU1JLEVBQU9HLFVBQVVHLEtBQUssT0FDekRaLFlBQVksQ0FDVkMsS0FBTSxTQUNOQyxLQUNFLHFCQUNBSSxFQUFPRyxVQUFVRyxLQUFLLE1BQ3JCTixFQUFPSSxhQUNKLHNCQUF3QkosRUFBT0ksYUFBZSxTQUM5QyxNQUVGRyxFQUFPakIsSUFDUGtCLEVBQVNDLFdBQVdULEdBQ3BCVSxFQUFZcEIsSUFBUWlCLEVBQzFCYixZQUFZLENBQ1ZDLEtBQU0sU0FDTkMsS0FBTSw2QkFBK0JjLEVBQVksUUFFbkRoQixZQUFZLENBQUVDLEtBQU0sT0FBUUMsS0FBTVksRUFBUUQsS0FBTUcsTUFHcERoQixZQUFZLENBQUVDLEtBQU0sa0NDdkNvS2dCLEVBQXBIQyxHQUFzSUMsUUFBUSxTQUFTRixFQUFFRyxHQUFHLEdBQUcsU0FBU0gsR0FBSyxLQUFLQSxhQUErRUEsR0FBL0QsTUFBTSxJQUFJSSxVQUFVLHFDQUF2RCxDQUE2RkMsTUFBUSxtQkFBbUJGLEVBQUUsTUFBTSxJQUFJRyxNQUFNLHVDQUEyQ0MsRUFBRUosRUFBRUssV0FBV0MsRUFBRSxJQUFJQyxLQUFLLENBQUMsSUFBSUgsRUFBRSxPQUFPLENBQUN2QixLQUFLLDJCQUEyQixPQUFPLElBQUkyQixPQUFPQyxJQUFJQyxnQkFBZ0JKLEtBQUtLLE9BQU9DLGVBQWVmLEVBQUUsYUFBYSxDQUFDZ0IsT0FBTSxpSUNPMWpCLFNBQVNDLEtBR1QsU0FBU0MsSUFDUEEsRUFBYUMsS0FBS0MsS0FBS2YsTUE2Q3pCLFNBQVNnQixFQUFpQkMsR0FDeEIsWUFBMkJDLElBQXZCRCxFQUFLRSxjQUNBTixFQUFhTyxvQkFDZkgsRUFBS0UsY0FxSWQsU0FBU0UsRUFBYUMsRUFBUTNDLEVBQU00QyxFQUFVQyxHQUM1QyxJQUNJQyxFQUNBQyxFQUVKLEdBQXdCLG1CQUFiSCxFQUNULE1BQU0sSUFBSXhCLFVBQVUsMENBdUR0QixPQXJEQTBCLEVBQVNILEVBQU9LLFVBT1ZGLEVBQU9HLGNBQ1ROLEVBQU9PLEtBQUssY0FBZWxELEVBQ2Y0QyxFQUFTQSxVQUErQkEsR0FJcERFLEVBQVNILEVBQU9LLFNBRWxCRCxFQUFXRCxFQUFPOUMsS0FibEI4QyxFQUFTSCxFQUFPSyxRQUFVLElBQUlmLEVBQzlCVSxFQUFPUSxhQUFlLEdBZW5CSixHQUtxQixtQkFBYkEsRUFFVEEsRUFBV0QsRUFBTzlDLEdBQVE2QyxFQUFVLENBQUNELEVBQVVHLEdBQ1gsQ0FBQ0EsRUFBVUgsR0FHM0NDLEVBQ0ZFLEVBQVNLLFFBQVFSLEdBRWpCRyxFQUFTTSxLQUFLVCxHQUtiRyxFQUFTTyxTQUNaQyxFQUFJbEIsRUFBaUJNLEtBQ1IsRUFBSlksR0FBU1IsRUFBU1MsT0FBU0QsSUFDbENSLEVBQVNPLFFBQVMsR0FDZEcsRUFBSSxJQUFJbkMsTUFBTSwrQ0FDRXlCLEVBQVNTLE9BQVMsSUFBTXhELEVBQU8sc0VBRWpEMEQsS0FBTyw4QkFDVEQsRUFBRUUsUUFBVWhCLEVBQ1pjLEVBQUV6RCxLQUFPQSxFQUNUeUQsRUFBRUcsTUFBUWIsRUFBU1MsT0FRTnhDLEVBUER5QyxFQVFNLG1CQUFqQkksUUFBUUMsS0FBc0JELFFBQVFDLEtBQUs5QyxHQUFLNkMsUUFBUUUsSUFBSS9DLE1BcENqRStCLEVBQVdELEVBQU85QyxHQUFRNEMsSUFDeEJELEVBQU9RLGNBZ0NKUixFQWdCVCxTQUFTcUIsRUFBVXJCLEVBQVEzQyxFQUFNNEMsR0FDL0IsSUFBSXFCLEdBQVEsRUFDWixTQUFTQyxJQUNQdkIsRUFBT3dCLGVBQWVuRSxFQUFNa0UsR0FDdkJELElBQ0hBLEdBQVEsRUFDUnJCLEVBQVN3QixNQUFNekIsRUFBUW5DLFlBSTNCLE9BREEwRCxFQUFFdEIsU0FBV0EsRUFDTnNCLEVBMkpULFNBQVNHLEVBQWNyRSxHQUNyQixJQUFJOEMsRUFBU3pCLEtBQUsyQixRQUVsQixHQUFJRixFQUFRLENBQ053QixFQUFheEIsRUFBTzlDLEdBRXhCLEdBQTBCLG1CQUFmc0UsRUFDVCxPQUFPLEVBQ0YsR0FBSUEsRUFDVCxPQUFPQSxFQUFXZCxPQUl0QixPQUFPLEVBY1QsU0FBU2UsRUFBV0MsRUFBS0MsR0FFdkIsSUFEQSxJQUFJQyxFQUFPLElBQUlDLE1BQU1GLEdBQ2RBLEtBQ0xDLEVBQUtELEdBQUtELEVBQUlDLEdBQ2hCLE9BQU9DLEVBemNUekMsRUFBYzJDLFVBQVk5QyxPQUFPK0MsT0FBTyxPQVV4QzNDLEVBQWFBLGFBQWVBLEdBRWY0QyxjQUFlLEVBRTVCNUMsRUFBYTBDLFVBQVVHLFlBQVN4QyxFQUNoQ0wsRUFBYTBDLFVBQVU1QixhQUFVVCxFQUNqQ0wsRUFBYTBDLFVBQVVwQyxtQkFBZ0JELEVBSXZDTCxFQUFhTyxvQkFBc0IsR0FFbkNQLEVBQWFDLEtBQU8sV0FDbEJkLEtBQUswRCxPQUFTLEtBQ1Y3QyxFQUFhNEMsb0JBOUJmQyxHQWdDV0MsT0FLUjNELEtBQUsyQixTQUFXM0IsS0FBSzJCLFVBQVlsQixPQUFPbUQsZUFBZTVELE1BQU0yQixVQUNoRTNCLEtBQUsyQixRQUFVLElBQUlmLEVBQ25CWixLQUFLOEIsYUFBZSxHQUd0QjlCLEtBQUttQixjQUFnQm5CLEtBQUttQixvQkFBaUJELEdBSzdDTCxFQUFhMEMsVUFBVU0sZ0JBQWtCLFNBQXlCM0QsR0FDaEUsR0FBaUIsaUJBQU5BLEdBQWtCQSxFQUFJLEdBQUs0RCxNQUFNNUQsR0FDMUMsTUFBTSxJQUFJSCxVQUFVLDBDQUV0QixPQURBQyxLQUFLbUIsY0FBZ0JqQixFQUNkRixNQVNUYSxFQUFhMEMsVUFBVVEsZ0JBQWtCLFdBQ3ZDLE9BQU8vQyxFQUFpQmhCLE9BNEQxQmEsRUFBYTBDLFVBQVUxQixLQUFPLFNBQWNsRCxHQUMxQyxJQUFRcUYsRUFBY0MsRUFBTWIsRUFFeEJjLEVBQW9CLFVBQVR2RixFQUVmOEMsRUFBU3pCLEtBQUsyQixRQUNkLEdBQUlGLEVBQ0Z5QyxFQUFXQSxHQUEyQixNQUFoQnpDLEVBQU8wQyxXQUMxQixJQUFLRCxFQUNSLE9BQU8sRUFLVCxHQUhBUixFQUFTMUQsS0FBSzBELE9BR1ZRLEVBQVMsQ0FFWCxHQURBRSxFQUFLakYsVUFBVSxHQUNYdUUsRUFlSixPQWJJVSxFQURHQSxHQUNFLElBQUluRSxNQUFNLHdDQUNkb0UsY0FBZ0JyRSxLQUNuQm9FLEVBQUdWLE9BQVNBLEVBQ1pVLEVBQUdFLGNBQWUsRUFDbEJaLEVBQU83QixLQUFLLFFBQVN1QyxJQVNoQixFQVJBLEdBQUlBLGFBQWNuRSxNQUN2QixNQUFNbUUsRUFHTixJQUFJRyxFQUFNLElBQUl0RSxNQUFNLHlDQUEyQ21FLEVBQUssS0FFcEUsTUFEQUcsRUFBSUMsUUFBVUosRUFDUkcsRUFPVixLQUZBUCxFQUFVdkMsRUFBTzlDLElBR2YsT0FBTyxFQUVULElBQ0E4RixFQURJQyxFQUEwQixtQkFBWlYsRUFFbEIsT0FEQVMsRUFBTXRGLFVBQVVnRCxRQUdkLEtBQUssR0EvRlQsU0FBa0I2QixFQUFlOUYsR0FDL0IsR0ErRnNCd0csRUE5RnBCVixFQUFRakQsS0FBSzdDLFFBSWIsSUFGQSxJQUFJdUcsRUFBTVQsRUFBUTdCLE9BQ2R3QyxFQUFZekIsRUFBV2MsRUFBU1MsR0FDM0JyQixFQUFJLEVBQUdBLEVBQUlxQixJQUFPckIsRUFDekJ1QixFQUFVdkIsR0FBR3JDLEtBQUs3QyxHQXlGbEIwRyxDQUFTWixFQUFlaEUsTUFDeEIsTUFDRixLQUFLLEdBeEZULFNBQWlCZ0UsRUFBU1UsRUFBTXhHLEVBQU0yRyxHQUNwQyxHQUFJSCxFQUNGVixFQUFRakQsS0FBSzdDLEVBQU0yRyxRQUluQixJQUZBLElBQUlKLEVBQU1ULEVBQVE3QixPQUNkd0MsRUFBWXpCLEVBQVdjLEVBQVNTLEdBQzNCckIsRUFBSSxFQUFHQSxFQUFJcUIsSUFBT3JCLEVBQ3pCdUIsRUFBVXZCLEdBQUdyQyxLQUFLN0MsRUFBTTJHLEdBa0Z4QkMsQ0FBUWQsRUFBU1UsRUFBTTFFLEtBQU1iLFVBQVUsSUFDdkMsTUFDRixLQUFLLEdBakZULFNBQWlCNkUsRUFBU1UsRUFBTXhHLEVBQU0yRyxFQUFNRSxHQUMxQyxHQUFJTCxFQUNGVixFQUFRakQsS0FBSzdDLEVBQU0yRyxFQUFNRSxRQUl6QixJQUZBLElBQUlOLEVBQU1ULEVBQVE3QixPQUNkd0MsRUFBWXpCLEVBQVdjLEVBQVNTLEdBQzNCckIsRUFBSSxFQUFHQSxFQUFJcUIsSUFBT3JCLEVBQ3pCdUIsRUFBVXZCLEdBQUdyQyxLQUFLN0MsRUFBTTJHLEVBQU1FLEdBMkU5QkMsQ0FBUWhCLEVBQVNVLEVBQU0xRSxLQUFNYixVQUFVLEdBQUlBLFVBQVUsSUFDckQsTUFDRixLQUFLLEdBMUVULFNBQW1CNkUsRUFBU1UsRUFBTXhHLEVBQU0yRyxFQUFNRSxFQUFNRSxHQUNsRCxHQUFJUCxFQUNGVixFQUFRakQsS0FBSzdDLEVBQU0yRyxFQUFNRSxFQUFNRSxRQUkvQixJQUZBLElBQUlSLEVBQU1ULEVBQVE3QixPQUNkd0MsRUFBWXpCLEVBQVdjLEVBQVNTLEdBQzNCckIsRUFBSSxFQUFHQSxFQUFJcUIsSUFBT3JCLEVBQ3pCdUIsRUFBVXZCLEdBQUdyQyxLQUFLN0MsRUFBTTJHLEVBQU1FLEVBQU1FLEdBb0VwQ0MsQ0FBVWxCLEVBQVNVLEVBQU0xRSxLQUFNYixVQUFVLEdBQUlBLFVBQVUsR0FBSUEsVUFBVSxJQUNyRSxNQUVGLFFBRUUsSUFEQThFLEVBQU8sSUFBSVgsTUFBTW1CLEVBQU0sR0FDbEJyQixFQUFJLEVBQUdBLEVBQUlxQixFQUFLckIsSUFDbkJhLEVBQUtiLEVBQUksR0FBS2pFLFVBQVVpRSxJQXRFaEMsU0FBa0JZLEVBQWU5RixFQUFNK0YsR0FDckMsR0FzRXNCUyxFQXJFcEJWLEVBQVFqQixNQUFNN0UsRUFBTStGLFFBSXBCLElBRkEsSUFBSVEsRUFBTVQsRUFBUTdCLE9BQ2R3QyxFQUFZekIsRUFBV2MsRUFBU1MsR0FDM0JyQixFQUFJLEVBQUdBLEVBQUlxQixJQUFPckIsRUFDekJ1QixFQUFVdkIsR0FBR0wsTUFBTTdFLEVBQU0rRixHQWdFekJrQixDQUFTbkIsRUFBZWhFLEtBQU1pRSxHQU1sQyxPQUFPLEdBcUVUcEQsRUFBYTBDLFVBQVU2QixZQUFjLFNBQXFCekcsRUFBTTRDLEdBQzlELE9BQU9GLEVBQWFyQixLQUFNckIsRUFBTTRDLEdBQVUsSUFHNUNWLEVBQWEwQyxVQUFVOEIsR0FBS3hFLEVBQWEwQyxVQUFVNkIsWUFFbkR2RSxFQUFhMEMsVUFBVStCLGdCQUNuQixTQUF5QjNHLEVBQU00QyxHQUM3QixPQUFPRixFQUFhckIsS0FBTXJCLEVBQU00QyxHQUFVLElBZ0JoRFYsRUFBYTBDLFVBQVVnQyxLQUFPLFNBQWM1RyxFQUFNNEMsR0FDaEQsR0FBd0IsbUJBQWJBLEVBQ1QsTUFBTSxJQUFJeEIsVUFBVSwwQ0FFdEIsT0FEQUMsS0FBS3FGLEdBQUcxRyxFQUFNZ0UsRUFBVTNDLEtBQU1yQixFQUFNNEMsSUFDN0J2QixNQUdUYSxFQUFhMEMsVUFBVWlDLG9CQUNuQixTQUE2QjdHLEVBQU00QyxHQUNqQyxHQUF3QixtQkFBYkEsRUFDVCxNQUFNLElBQUl4QixVQUFVLDBDQUV0QixPQURBQyxLQUFLc0YsZ0JBQWdCM0csRUFBTWdFLEVBQVUzQyxLQUFNckIsRUFBTTRDLElBQzFDdkIsTUFJYmEsRUFBYTBDLFVBQVVULGVBQ25CLFNBQXdCbkUsRUFBTTRDLEdBQzVCLElBQUlrRSxFQUFNaEUsRUFBUWlFLEVBQVV0QyxFQUFHdUMsRUFFL0IsR0FBd0IsbUJBQWJwRSxFQUNULE1BQU0sSUFBSXhCLFVBQVUsMENBR3RCLEtBREEwQixFQUFTekIsS0FBSzJCLFNBRVosT0FBTzNCLEtBR1QsS0FEQXlGLEVBQU9oRSxFQUFPOUMsSUFFWixPQUFPcUIsS0FFVCxHQUFJeUYsSUFBU2xFLEdBQWFrRSxFQUFLbEUsVUFBWWtFLEVBQUtsRSxXQUFhQSxFQUMvQixLQUF0QnZCLEtBQUs4QixhQUNUOUIsS0FBSzJCLFFBQVUsSUFBSWYsVUFFWmEsRUFBTzlDLEdBQ1Y4QyxFQUFPcUIsZ0JBQ1Q5QyxLQUFLNkIsS0FBSyxpQkFBa0JsRCxFQUFNOEcsRUFBS2xFLFVBQVlBLFNBRWxELEdBQW9CLG1CQUFUa0UsRUFBcUIsQ0FHckMsSUFGQUMsR0FBWSxFQUVQdEMsRUFBSXFDLEVBQUt0RCxPQUFjLEVBQU5pQixLQUNwQixHQUFJcUMsRUFBS3JDLEtBQU83QixHQUNYa0UsRUFBS3JDLEdBQUc3QixVQUFZa0UsRUFBS3JDLEdBQUc3QixXQUFhQSxFQUFXLENBQ3ZEb0UsRUFBbUJGLEVBQUtyQyxHQUFHN0IsU0FDM0JtRSxFQUFXdEMsRUFDWCxNQUlKLEdBQUlzQyxFQUFXLEVBQ2IsT0FBTzFGLEtBRVQsR0FBb0IsSUFBaEJ5RixFQUFLdEQsT0FBYyxDQUVyQixHQURBc0QsRUFBSyxRQUFLdkUsRUFDa0IsS0FBdEJsQixLQUFLOEIsYUFFVCxPQURBOUIsS0FBSzJCLFFBQVUsSUFBSWYsRUFDWlosWUFFQXlCLEVBQU85QyxRQWlIMUIsU0FBbUI4RyxHQUNqQixJQUFLLElBQUlyQyxFQS9HZXNDLEVBK0dKRSxFQUFJeEMsRUFBSSxFQUFHbEQsRUFBSXVGLEVBQUt0RCxPQUFReUQsRUFBSTFGLEVBQUdrRCxHQUFLLEVBQUd3QyxHQUFLLEVBQ2xFSCxFQUFLckMsR0FBS3FDLEVBQUtHLEdBQ2pCSCxFQUFLSSxNQWpIR0MsQ0FBVUwsR0FHUmhFLEVBQU9xQixnQkFDVDlDLEtBQUs2QixLQUFLLGlCQUFrQmxELEVBQU1nSCxHQUFvQnBFLEdBRzFELE9BQU92QixNQUdiYSxFQUFhMEMsVUFBVXdDLG1CQUNuQixTQUE0QnBILEdBQzFCLElBQUlnRyxFQUVKbEQsRUFBU3pCLEtBQUsyQixRQUNkLElBQUtGLEVBQ0gsT0FBT3pCLEtBR1QsSUFBS3lCLEVBQU9xQixlQVVWLE9BVHlCLElBQXJCM0QsVUFBVWdELFFBQ1puQyxLQUFLMkIsUUFBVSxJQUFJZixFQUNuQlosS0FBSzhCLGFBQWUsR0FDWEwsRUFBTzlDLEtBQ1ksS0FBdEJxQixLQUFLOEIsYUFDVDlCLEtBQUsyQixRQUFVLElBQUlmLFNBRVphLEVBQU85QyxJQUVYcUIsS0FJVCxHQUF5QixJQUFyQmIsVUFBVWdELE9BQWMsQ0FFMUIsSUFEQSxJQUNnQjZELEVBRFpDLEVBQU94RixPQUFPd0YsS0FBS3hFLEdBQ2QyQixFQUFJLEVBQVFBLEVBQUk2QyxFQUFLOUQsU0FBVWlCLEVBRTFCLG9CQURaNEMsRUFBTUMsRUFBSzdDLEtBRVhwRCxLQUFLK0YsbUJBQW1CQyxHQUsxQixPQUhBaEcsS0FBSytGLG1CQUFtQixrQkFDeEIvRixLQUFLMkIsUUFBVSxJQUFJZixFQUNuQlosS0FBSzhCLGFBQWUsRUFDYjlCLEtBS1QsR0FBeUIsbUJBRnpCMkUsRUFBWWxELEVBQU85QyxJQUdqQnFCLEtBQUs4QyxlQUFlbkUsRUFBTWdHLFFBQ3JCLEdBQUlBLEVBRVQsS0FDRTNFLEtBQUs4QyxlQUFlbkUsRUFBTWdHLEVBQVVBLEVBQVV4QyxPQUFTLElBQ2hEd0MsRUFBVSxLQUdyQixPQUFPM0UsTUFHYmEsRUFBYTBDLFVBQVVvQixVQUFZLFNBQW1CaEcsR0FDcEQsSUFFSThDLEVBQVN6QixLQUFLMkIsUUFTZHVFLEVBUEN6RSxJQUdId0IsRUFBYXhCLEVBQU85QyxJQUdXLG1CQUFmc0UsRUFDUixDQUFDQSxFQUFXMUIsVUFBWTBCLEdBbURwQyxTQUF5QkUsR0FFdkIsSUFEQSxJQUFJK0MsRUFBTSxJQUFJNUMsTUFBTUgsRUFBSWhCLFFBQ2ZpQixFQUFJLEVBQUdBLEVBQUk4QyxFQUFJL0QsU0FBVWlCLEVBQ2hDOEMsRUFBSTlDLEdBQUtELEVBQUlDLEdBQUc3QixVQUFZNEIsRUFBSUMsR0FFbEMsT0FBTzhDLEVBdERHQyxDQUFnQmxELEdBUmxCLEdBV1IsT0FBT2lELEdBR1RyRixFQUFhbUMsY0FBZ0IsU0FBU1YsRUFBUzNELEdBQzdDLE1BQXFDLG1CQUExQjJELEVBQVFVLGNBQ1ZWLEVBQVFVLGNBQWNyRSxHQUV0QnFFLEVBQWNqQyxLQUFLdUIsRUFBUzNELElBSXZDa0MsRUFBYTBDLFVBQVVQLGNBQWdCQSxFQWlCdkNuQyxFQUFhMEMsVUFBVTZDLFdBQWEsV0FDbEMsT0FBMkIsRUFBcEJwRyxLQUFLOEIsYUFBbUJ1RSxRQUFRQyxRQUFRdEcsS0FBSzJCLFNBQVcsUUMvYjVDNEUsbVBBQThCMUYsNktBSXZDLHdCQUlHLDRCQUtHLGtDQWlEUSxTQUFDMkYsVUFDaEIsSUFBSUMsUUFBUSxTQUFDQyxFQUFTQyxPQUN2QkMsRUFBYSxJQUFJQyxXQUNyQkQsRUFBV0UsT0FBUyxXQUNsQkosRUFBUTFHLEtBQUtSLFNBRWZvSCxFQUFXRyxRQUFVLFdBQ25CSixFQUFPM0csS0FBS21FLFFBRWR5QyxFQUFXSSxrQkFBa0JSLDJCQThCcEIsU0FBQ1MsRUFBYUMsT0FBYzdILHlEQUFjLFlBQzFCLGlCQUFoQjRILEdBQW9ELGlCQUFqQkMsUUFDdEMsSUFBSWpILE1BQU0sMENBRWRrSCxFQUFLQyxXQUFhRCxFQUFLQyxVQUFVekksT0FDOUIwSSxnQ0FBZ0NDLEtBQUssU0FBQ0MsU0FDakNKLEVBQUtLLG9CQUNQQyxrQkFBb0JsSixLQUFLRCxlQUV6Qm9KLFlBQWtCVCxpQkFBa0JRLGNBQVlQLEtBQ2pEUyxPQUFPakosWUFBWSxDQUN0QkMsS0FBTSxVQUNOUSxVQUFXdUksRUFBYUUsTUFBTSxLQUM5QjFJLE1BQU8sQ0FDTCxDQUNFTixLQUFNLElBQUlpSixXQUFXTixHQUNyQmxGLEtBQU1vRixJQUdWcEksWUFBQUEsUUFJQ3NJLE9BQU9qSixZQUFZLENBQ3RCQyxLQUFNLFVBQ05RLFVBQVcySSxRQUFRRixNQUFNLEtBQ3pCdkksWUFBQUEsbUJBU0EsU0FBQ04sVUFDTHVFLE1BQU15RSxRQUFRaEosR0FDVnlELFFBQVFFLElBQUkzQixLQUFLLEtBQU1oQyxHQUN2QnlELFFBQVFFLElBQUkzRCxzQkFNUixTQUFDeUgsT0FDSHdCLEVBQVd4QixFQUFLN0gsWUFFcEI2SCxhQUFnQm5HLE9BQ2YySCxFQUFTQyxTQUFTLFVBQVlELEVBQVNDLFNBQVMsY0FySTlDQyx1RkFJQVAsT0FBUyxJQUFJUSxFQUFXL0osUUFDeEJzRSxRQUNDQSxFQUFPMUMsS0FBSzJILE9BQU85SSxVQUFZLFNBQUNDLE9BQ2hDQyxFQUFVRCxFQUFNRixLQUNoQkUsR0FBU0EsRUFBTUgsT0FDRyxTQUFoQkksRUFBUUosTUFDVnlKLEVBQUt2RyxLQUFLLFVBQVcsdUNBQ3JCdUcsRUFBS1osZUFBZ0IsR0FDSSxVQUFoQnpJLEVBQVFKLEtBQ2pCeUosRUFBS3ZHLEtBQUssV0FBWTlDLEVBQVFILE1BQ0wsU0FBaEJHLEVBQVFKLE1BQ2pCeUosRUFBS3ZHLEtBQUssaUJBQWtCLGlCQUM1QmEsRUFBSSxrQ0FDcUIsUUFBaEIzRCxFQUFRSixNQUNqQnlKLEVBQUt2RyxLQUFLLFNBQVU5QyxFQUFRSCxzREEwQzVCd0ksRUFBWXBILEtBQUtvSCxtQkFFckJBLEdBQ0FBLGFBQXFCL0csTUFDckIrRyxFQUFVaUIsTUFDVmpCLEVBQVV6SSxrRUFVUHFCLEtBQUtzSSx3QkFDRixJQUFJckksTUFBTSxzQ0FFWEQsS0FBS3VJLHNCQUFzQnZJLEtBQUtvSCx3Q0F0RDlCTyxRQUNKYSxRQUFVYix5QkFHUjNILEtBQUt3SSx3Q0FHQXBCLE9BQ1BwSCxLQUFLeUksUUFBUXJCLFNBQ1YsSUFBSW5ILE1BQU0seURBRWJ5SSxXQUFhdEIseUJBR1hwSCxLQUFLMEksZ0RDdkRIQyxFQUFrQkMsRUFDbEJyQyxFQUF3QnNDLEVBQ2pDQyxFQUFlLENBQUV6RCxnQkFBU3hELG1CQUN4QmtILEVBQVU5SyxHQUFVRSxPQUN0QjRLLEdBQVdBLEVBQVExSSxPQUNyQnlJLEVBQWUsSUFBSUQifQ==
